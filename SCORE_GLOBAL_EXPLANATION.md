# üìä Score Global - Explication D√©taill√©e

## üéØ Qu'est-ce que le Score Global ?

Le `score_global` est une **note sur 100** qui √©value la **qualit√© globale de l'alternative v√©g√©tale** propos√©e pour remplacer un plat carn√©.

---

## ü§ñ Comment est-il Calcul√© ?

### G√©n√©r√© par l'IA Blackbox

Le score est **g√©n√©r√© par l'intelligence artificielle**, pas calcul√© par une formule math√©matique fixe dans le code.

**Pourquoi ?**
- L'IA peut √©valuer des crit√®res qualitatifs complexes
- Elle prend en compte le contexte du plat
- Elle adapte son √©valuation selon les ingr√©dients

---

## üìã Crit√®res d'√âvaluation

L'IA Blackbox base son score sur **5 crit√®res principaux** :

### 1. **√âquivalence Nutritionnelle** (30%)
```
Crit√®res √©valu√©s:
‚úì Prot√©ines similaires (¬±10%)
‚úì Calories √©quivalentes
‚úì Profil nutritionnel complet
‚úì Apport en fibres am√©lior√©
‚úì R√©duction lipides satur√©s

Exemple:
- Original: 25g prot√©ines, 350 kcal
- V√©g√©tal: 24g prot√©ines, 340 kcal
‚Üí √âquivalence: 95% ‚Üí Bon score
```

### 2. **Impact Environnemental** (30%)
```
Crit√®res √©valu√©s:
‚úì R√©duction CO2 significative (>50%)
‚úì √âconomie d'eau
‚úì R√©duction empreinte carbone
‚úì Durabilit√© des ingr√©dients

Exemple:
- Original: 5.2 kg CO2
- V√©g√©tal: 0.8 kg CO2
‚Üí R√©duction: 85% ‚Üí Excellent score
```

### 3. **Impact √âconomique** (15%)
```
Crit√®res √©valu√©s:
‚úì Co√ªt inf√©rieur ou √©quivalent
‚úì Disponibilit√© des ingr√©dients
‚úì Facilit√© d'approvisionnement
‚úì Rentabilit√© pour le restaurant

Exemple:
- Original: 12.50‚Ç¨
- V√©g√©tal: 8.30‚Ç¨
‚Üí √âconomie: 34% ‚Üí Bon score
```

### 4. **Faisabilit√© Pratique** (15%)
```
Crit√®res √©valu√©s:
‚úì Facilit√© de pr√©paration
‚úì Temps de cuisson raisonnable
‚úì √âquipement standard
‚úì Comp√©tences culinaires requises
‚úì Conservation des ingr√©dients

Exemple:
- Temps pr√©paration: 30 min
- Techniques simples
- Ingr√©dients disponibles
‚Üí Faisable ‚Üí Bon score
```

### 5. **Acceptabilit√© Client** (10%)
```
Crit√®res √©valu√©s:
‚úì Go√ªt et texture similaires
‚úì Pr√©sentation app√©tissante
‚úì Familiarit√© des ingr√©dients
‚úì Potentiel d'adoption
‚úì Satisfaction gustative

Exemple:
- Seitan (texture viande)
- Sauce famili√®re
- Pr√©sentation classique
‚Üí Acceptable ‚Üí Bon score
```

---

## üéØ √âchelle de Notation

### Score 90-100 : Excellent ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
```
‚úì √âquivalence nutritionnelle parfaite
‚úì R√©duction CO2 > 80%
‚úì √âconomies significatives
‚úì Tr√®s facile √† r√©aliser
‚úì Haute acceptabilit√© client
```

### Score 75-89 : Tr√®s Bon ‚≠ê‚≠ê‚≠ê‚≠ê
```
‚úì Bonne √©quivalence nutritionnelle
‚úì R√©duction CO2 > 60%
‚úì √âconomies mod√©r√©es
‚úì Facile √† r√©aliser
‚úì Bonne acceptabilit√©
```

### Score 60-74 : Bon ‚≠ê‚≠ê‚≠ê
```
‚úì √âquivalence nutritionnelle acceptable
‚úì R√©duction CO2 > 40%
‚úì Co√ªt √©quivalent
‚úì R√©alisable
‚úì Acceptabilit√© moyenne
```

### Score 40-59 : Moyen ‚≠ê‚≠ê
```
‚ö† √âquivalence nutritionnelle partielle
‚ö† R√©duction CO2 mod√©r√©e
‚ö† Co√ªt similaire
‚ö† Complexit√© moyenne
‚ö† Acceptabilit√© incertaine
```

### Score < 40 : Faible ‚≠ê
```
‚ùå √âquivalence nutritionnelle faible
‚ùå Faible r√©duction CO2
‚ùå Co√ªt √©lev√©
‚ùå Difficile √† r√©aliser
‚ùå Faible acceptabilit√©
```

---

## üí° Exemples Concrets

### Exemple 1: Poulet R√¥ti ‚Üí Seitan R√¥ti

**Donn√©es:**
- Nutrition: 95% √©quivalence
- CO2: -85% (5.2 ‚Üí 0.8 kg)
- Co√ªt: -34% (12.50‚Ç¨ ‚Üí 8.30‚Ç¨)
- Pr√©paration: 30 min (simple)
- Go√ªt: Tr√®s similaire

**Score: 92/100** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

**Justification:**
```
Nutrition:     30/30 (√©quivalence parfaite)
Environnement: 30/30 (r√©duction majeure)
√âconomie:      15/15 (√©conomies importantes)
Faisabilit√©:   12/15 (tr√®s facile)
Acceptabilit√©:  5/10 (texture similaire)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL:         92/100
```

### Exemple 2: Boeuf Bourguignon ‚Üí Champignons Bourguignon

**Donn√©es:**
- Nutrition: 75% √©quivalence (moins de prot√©ines)
- CO2: -90% (8.5 ‚Üí 0.9 kg)
- Co√ªt: -40% (15‚Ç¨ ‚Üí 9‚Ç¨)
- Pr√©paration: 45 min (mijotage)
- Go√ªt: Diff√©rent mais savoureux

**Score: 78/100** ‚≠ê‚≠ê‚≠ê‚≠ê

**Justification:**
```
Nutrition:     22/30 (prot√©ines r√©duites)
Environnement: 30/30 (excellente r√©duction)
√âconomie:      15/15 (√©conomies importantes)
Faisabilit√©:   10/15 (temps long)
Acceptabilit√©:  1/10 (go√ªt diff√©rent)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL:         78/100
```

### Exemple 3: Saumon Grill√© ‚Üí Tofu Marin√©

**Donn√©es:**
- Nutrition: 60% √©quivalence (om√©ga-3 diff√©rents)
- CO2: -70% (3.2 ‚Üí 1.0 kg)
- Co√ªt: -20% (14‚Ç¨ ‚Üí 11.20‚Ç¨)
- Pr√©paration: 25 min + marinade
- Go√ªt: Tr√®s diff√©rent

**Score: 65/100** ‚≠ê‚≠ê‚≠ê

**Justification:**
```
Nutrition:     18/30 (om√©ga-3 v√©g√©taux)
Environnement: 21/30 (bonne r√©duction)
√âconomie:      10/15 (√©conomies mod√©r√©es)
Faisabilit√©:   11/15 (marinade n√©cessaire)
Acceptabilit√©:  5/10 (texture diff√©rente)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL:         65/100
```

---

## üîß Dans le Code

### Prompt √† l'IA
```typescript
// prompt.service.ts
"score_global": 92,  // Exemple dans le format JSON demand√©
"recommandations": [...]

R√®gles: Donn√©es r√©alistes CO2 (viande=20-30kg, l√©gumes=0.5-2kg), 
prix FR, 2 fournisseurs liste, JSON seulement
```

### R√©ponse de l'IA
```json
{
  "score_global": 92,
  "nutrition": { "equivalence_pourcent": 95 },
  "impact_environnemental": { "gain_co2_pourcent": 85 },
  "impact_economique": { "economie_pourcent": 34 }
}
```

### Mode D√©mo (Fallback)
```typescript
// blackbox.service.ts - getDemoResult()
score_global: 90,  // Score fixe quand l'API √©choue
```

---

## üìä Pond√©ration des Crit√®res

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ SCORE GLOBAL (100 points)           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Nutrition:        30 pts (30%)      ‚îÇ
‚îÇ Environnement:    30 pts (30%)      ‚îÇ
‚îÇ √âconomie:         15 pts (15%)      ‚îÇ
‚îÇ Faisabilit√©:      15 pts (15%)      ‚îÇ
‚îÇ Acceptabilit√©:    10 pts (10%)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ Utilisation du Score

### Pour les Restaurateurs
```
Score > 85  ‚Üí Adoption imm√©diate recommand√©e
Score 70-85 ‚Üí Tr√®s bon choix, √† tester
Score 60-70 ‚Üí Bon choix, ajustements possibles
Score < 60  ‚Üí N√©cessite am√©liorations
```

### Dans l'Interface
```html
<div class="score-circle" style="--score: 92">
    <div class="score-number">92</div>
</div>
<div class="score-label">
    Score de qualit√© de l'alternative
</div>
```

---

## ‚úÖ R√©sum√©

**Le score_global est bas√© sur:**

1. ‚úÖ **√âquivalence nutritionnelle** (30%) - Prot√©ines, calories, fibres
2. ‚úÖ **Impact environnemental** (30%) - R√©duction CO2, durabilit√©
3. ‚úÖ **Impact √©conomique** (15%) - Co√ªt, rentabilit√©
4. ‚úÖ **Faisabilit√© pratique** (15%) - Facilit√©, temps, √©quipement
5. ‚úÖ **Acceptabilit√© client** (10%) - Go√ªt, texture, pr√©sentation

**G√©n√©r√© par:** Intelligence Artificielle Blackbox (analyse contextuelle)

**√âchelle:** 0-100 (plus √©lev√© = meilleure alternative)

**Objectif:** Aider les restaurateurs √† choisir les meilleures alternatives v√©g√©tales
